(function(e){function t(t){for(var o,i,s=t[0],l=t[1],c=t[2],u=0,m=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1e98":function(e,t,n){e.exports=n.p+"img/rtbh45hb44t.b8d38c94.png"},2246:function(e,t,n){e.exports=n.p+"img/kt.c6d484c5.png"},3001:function(e,t,n){e.exports=n.p+"img/top.a743e1d3.jpg"},"3b4f":function(e,t,n){e.exports=n.p+"img/bottom.dffcea23.jpg"},"3d55":function(e,t,n){"use strict";n("6ed1")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=n("5c96"),a=n.n(r),i=(n("0fae"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("load3dModel")],1)}),s=[],l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"model-com"},[t("div",{staticClass:"dynamic-components-div"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{id:"container","element-loading-background":"rgb(0, 0, 0,.8)","element-loading-text":"数据加载中..."}})]),t("div",{staticClass:"toggle-div"},e._l(e.modelList,(function(n){return t("el-button",{key:n.modelUrl,class:[n.modelUrl==e.cuModel.modelUrl?"thisButs":"buts"],attrs:{type:"primary"},on:{click:function(t){return e.toggleModel(n)}}},[e._v("\r\n        "+e._s(n.text)+"\r\n      ")])})),1)])},c=[],d=(n("96cf"),n("1da1")),u=n("5a89"),m=n("4721"),p=n("34ad"),h=n("2246"),f=n.n(h),g=n("1e98"),b=n.n(g),v=n("7faa"),P=n.n(v),x=n("9295"),y=n.n(x),w=n("3001"),C=n.n(w),L=n("3b4f"),j=n.n(L),k=n("f84a"),M=n.n(k),O=n("b647"),_=n.n(O),I=null,S={components:{},data:function(){return{isLoading:"",modelList:[{modelUrl:"model/玫瑰.glb",text:"玫瑰",cameraPar:[60,.01,1e4,0,0,10],bg:"room",modePar:[0,-3,0,100,100,100]},{modelUrl:"model/飞机.glb",text:"飞机",cameraPar:[60,.01,1e3,0,50,100],bg:"sky",modePar:[0,-100,0,10,10,10]},{modelUrl:"model/鲨鱼.glb",text:"鲨鱼",cameraPar:[60,.01,1e4,0,0,25],bg:"beach",modePar:[0,-5,0,50,50,50]}],cuModel:"",camera:null,renderer:null,mouseControls:null,pointLight:null,ambientLight:null,anId:null}},mounted:function(){this.toggleModel(this.modelList[0])},methods:{toggleModel:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,!this.camera){e.next=4;break}return e.next=4,this.destroyCom();case 4:this.cuModel=t,this.init(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),destroyCom:function(){cancelAnimationFrame(this.anId),this.renderer.forceContextLoss(),this.renderer.dispose(),I.clear(),I=null,this.camera=null,this.mouseControls=null,document.getElementById("container").innerHTML=null,this.renderer=null},init:function(e){I=new u["db"];var t=document.getElementById("container"),n=t.clientWidth,o=t.clientHeight,r=n/o;this.camera=new u["V"](e.cameraPar[0],r,e.cameraPar[1],e.cameraPar[2]),this.camera.position.set(e.cameraPar[3],e.cameraPar[4],e.cameraPar[5]),this.renderer=new u["tb"]({antialias:!0,alpha:!0}),this.renderer.setSize(n,o),document.getElementById("container").appendChild(this.renderer.domElement);var a=new u["c"](300);a.rotation.x=.1,"room"==e.bg&&this.createPanorama(f.a),"beach"==e.bg&&this.createPanorama(b.a),"sky"!=e.bg&&""!=e.bg||this.createSkyBox(),this.createOrbitControls(),this.createLight(),this.loadModel(e),this.repeatRender()},createSkyBox:function(){var e=(new u["k"]).load([P.a,y.a,C.a,j.a,M.a,_.a]);I.background=e},createUniverse:function(){var e=(new u["nb"]).load(BgImg);I.background=e},createPanorama:function(e){var t=new u["hb"](500,100,100),n=new u["L"]({map:(new u["nb"]).load(e),color:16777215,side:u["d"]}),o=new u["K"](t,n);I.add(o)},createOrbitControls:function(){this.mouseControls=new m["a"](this.camera,this.renderer.domElement),this.mouseControls.enablePan=!1,this.mouseControls.enableZoom=!0,this.mouseControls.minDistance=0,this.mouseControls.maxDistance=100,this.mouseControls.enableDamping=!0,this.mouseControls.dampingFactor=.1,this.mouseControls.maxPolarAngle=Math.PI/4*3,this.mouseControls.minPolarAngle=Math.PI/4,this.mouseControls.autoRotate=!0,this.mouseControls.autoRotateSpeed=1},createLight:function(){this.ambientLight=new u["a"](16777215),I.add(this.ambientLight),this.pointLight=new u["W"](16777215,1,0),this.pointLight.position.set(50,50,0),I.add(this.pointLight)},loadModel:function(e){var t=this,n=new Promise((function(n,o){var r=new p["a"];r.load(e.modelUrl,(function(e){n(e),o("model加载失败！"),t.isLoading=!1}))}));n.then((function(n){console.log("model加载成功！"),n.scene.position.set(e.modePar[0],e.modePar[1],e.modePar[2]),n.scene.scale.set(e.modePar[3],e.modePar[4],e.modePar[5]),I.add(n.scene),t.isLoading=!1})),n.catch((function(e){console.log(e),t.isLoading=!1}))},repeatRender:function(){this.anId=requestAnimationFrame(this.repeatRender),this.mouseControls.update(),this.renderer.render(I,this.camera)}}},U=S,B=(n("db6d"),n("2877")),R=Object(B["a"])(U,l,c,!1,null,"4e2ee76a",null),E=R.exports,A={name:"app",components:{load3dModel:E}},T=A,D=(n("3d55"),Object(B["a"])(T,i,s,!1,null,null,null)),F=D.exports;o["default"].use(a.a),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(F)}}).$mount("#app")},"6ed1":function(e,t,n){},"7faa":function(e,t,n){e.exports=n.p+"img/right.511e0ad2.jpg"},"87cb":function(e,t,n){},9295:function(e,t,n){e.exports=n.p+"img/left.1737d886.jpg"},b647:function(e,t,n){e.exports=n.p+"img/back.b42a4be0.jpg"},db6d:function(e,t,n){"use strict";n("87cb")},f84a:function(e,t,n){e.exports=n.p+"img/front.84bf9212.jpg"}});
//# sourceMappingURL=app.c60582b2.js.map