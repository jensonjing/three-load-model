(function(e){function n(n){for(var o,i,l=n[0],s=n[1],c=n[2],u=0,m=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(n);while(m.length)m.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,l=1;l<t.length;l++){var s=t[l];0!==r[s]&&(o=!1)}o&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var o={},r={app:0},a=[];function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=o,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)i.d(t,o,function(n){return e[n]}.bind(null,o));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=n,l=l.slice();for(var c=0;c<l.length;c++)n(l[c]);var d=s;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"12f1":function(e,n,t){e.exports=t.p+"img/pImg21.f4e7201a.png"},"155b":function(e,n,t){e.exports=t.p+"img/back.b42a4be0.jpg"},2682:function(e,n,t){e.exports=t.p+"img/pImg16.2beaa8cd.png"},"3d55":function(e,n,t){"use strict";t("6ed1")},4899:function(e,n,t){e.exports=t.p+"img/bottom.dffcea23.jpg"},"56d7":function(e,n,t){"use strict";t.r(n);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),r=t("5c96"),a=t.n(r),i=(t("0fae"),function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"app"}},[n("load3dModel")],1)}),l=[],s=function(){var e=this,n=e._self._c;return n("div",{staticClass:"model-com"},[n("div",{staticClass:"dynamic-components-div"},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],attrs:{id:"container","element-loading-background":"rgb(0, 0, 0,.8)","element-loading-text":"数据加载中..."}})]),n("div",{staticClass:"toggle-div"},e._l(e.modelList,(function(t){return n("el-button",{key:t.modelUrl,class:[t.modelUrl==e.cuModel.modelUrl?"thisButs":"buts"],attrs:{type:"primary"},on:{click:function(n){return e.toggleModel(t)}}},[e._v("\r\n        "+e._s(t.text)+"\r\n      ")])})),1)])},c=[],d=(t("ac6a"),t("96cf"),t("1da1")),u=t("5a89"),m=t("4721"),p=t("34ad"),f=t("928e"),g=t.n(f),h=t("f32c"),b=t.n(h),v=t("12f1"),P=t.n(v),x=t("e8fc"),w=t.n(x),y=t("2682"),C=t.n(y),j=t("7041"),L=t.n(j),M=t("fd2d"),I=t.n(M),O=t("c5ed"),k=t.n(O),_=t("7421"),U=t.n(_),S=t("890f"),R=t.n(S),B=t("4899"),E=t.n(B),A=t("9341"),T=t.n(A),D=t("155b"),F=t.n(D),H=null,J={components:{},data:function(){return{isLoading:"",modelList:[{modelUrl:"model/导弹.glb",text:"导弹",bg:g.a,cameraPar:[60,.01,1e3,-50,30,100],modePar:[0,0,-15,50,50,50]},{modelUrl:"model/左轮手枪.glb",text:"左轮手枪",cameraPar:[60,.01,1e3,0,50,100],bg:b.a,modePar:[0,0,0,.1,.1,.1]},{modelUrl:"model/武士刀.glb",text:"武士刀",cameraPar:[60,.01,1e4,-10,5,10],bg:P.a,modePar:[2,0,-5,20,20,20]},{modelUrl:"model/道奇战斧.glb",text:"道奇战斧",cameraPar:[60,.01,1e4,-10,5,10],bg:w.a,modePar:[0,-3,0,5,5,5]},{modelUrl:"model/无人机.glb",text:"无人机",cameraPar:[60,.01,1e4,10,5,10],bg:C.a,modePar:[10,0,0,.2,.2,.2]},{modelUrl:"model/鲨鱼.glb",text:"鲨鱼",cameraPar:[60,.01,1e4,10,5,10],bg:L.a,modePar:[0,0,0,40,40,40]},{modelUrl:"model/玫瑰.glb",text:"玫瑰",cameraPar:[60,.01,1e4,10,5,10],bg:I.a,modePar:[0,-3,0,200,200,200]}],cuModel:"",camera:null,renderer:null,mouseControls:null,pointLight:null,ambientLight:null,anId:null}},mounted:function(){this.toggleModel(this.modelList[0])},methods:{toggleModel:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,!this.camera){e.next=4;break}return e.next=4,this.destroyCom();case 4:this.cuModel=n,this.init(n);case 6:case"end":return e.stop()}}),e,this)})));function n(n){return e.apply(this,arguments)}return n}(),destroyCom:function(){cancelAnimationFrame(this.anId),this.renderer.forceContextLoss(),this.renderer.dispose(),H.clear(),H=null,this.camera=null,this.mouseControls=null,document.getElementById("container").innerHTML=null,this.renderer=null},clearGroup:function(e){var n=function(e){e.geometry.dispose(),e.material.dispose()},t=function e(t){var o=t.children.filter((function(e){return e}));o.forEach((function(t){t.children.length?e(t):(n(t),t.clear())})),t.clear(),o=null};t(e)},init:function(e){H=new u["db"];var n=document.getElementById("container"),t=n.clientWidth,o=n.clientHeight,r=t/o;this.camera=new u["V"](e.cameraPar[0],r,e.cameraPar[1],e.cameraPar[2]),this.camera.position.set(e.cameraPar[3],e.cameraPar[4],e.cameraPar[5]),this.renderer=new u["tb"]({antialias:!0,alpha:!0}),this.renderer.setSize(t,o),document.getElementById("container").appendChild(this.renderer.domElement);var a=new u["c"](300);a.rotation.x=.1,this.createPanorama(e.bg),this.createOrbitControls(),this.createLight(),this.loadModel(e),this.repeatRender()},createSkyBox:function(){var e=(new u["k"]).load([k.a,U.a,R.a,E.a,T.a,F.a]);H.background=e},createUniverse:function(){var e=(new u["nb"]).load(BgImg);H.background=e},createPanorama:function(e){var n=new u["hb"](500,100,100),t=new u["L"]({map:(new u["nb"]).load(e),color:16777215,side:u["d"]}),o=new u["K"](n,t);H.add(o)},createOrbitControls:function(){this.mouseControls=new m["a"](this.camera,this.renderer.domElement),this.mouseControls.enablePan=!1,this.mouseControls.enableZoom=!0,this.mouseControls.minDistance=0,this.mouseControls.maxDistance=100,this.mouseControls.enableDamping=!0,this.mouseControls.dampingFactor=.1,this.mouseControls.maxPolarAngle=Math.PI/4*3,this.mouseControls.minPolarAngle=Math.PI/4,this.mouseControls.autoRotate=!0,this.mouseControls.autoRotateSpeed=1},createLight:function(){var e=new u["j"](16777215),n=new u["a"](e);n.name="环境光",H.add(n);var t=new u["l"](e);t.position.set(0,0,500),H.add(t);var o=new u["l"](e);o.position.set(0,0,-500),H.add(o);var r=new u["l"](e);r.position.set(500,0,0),H.add(r);var a=new u["l"](e);a.position.set(-500,0,0),H.add(a);var i=new u["l"](e);i.position.set(0,500,0),H.add(i);var l=new u["l"](e);l.position.set(0,-500,0),H.add(l)},loadModel:function(e){var n=this,t=new Promise((function(t,o){var r=new p["a"];r.load(e.modelUrl,(function(e){t(e),o("model加载失败！"),n.isLoading=!1}))}));t.then((function(t){console.log("model加载成功！"),t.scene.position.set(e.modePar[0],e.modePar[1],e.modePar[2]),t.scene.scale.set(e.modePar[3],e.modePar[4],e.modePar[5]),H.add(t.scene),n.isLoading=!1})),t.catch((function(e){console.log(e),n.isLoading=!1}))},repeatRender:function(){this.anId=requestAnimationFrame(this.repeatRender),this.mouseControls.update(),this.renderer.render(H,this.camera)}}},q=J,z=(t("b2b9"),t("2877")),G=Object(z["a"])(q,s,c,!1,null,"9b875c5e",null),K=G.exports,N={name:"app",components:{load3dModel:K}},V=N,W=(t("3d55"),Object(z["a"])(V,i,l,!1,null,null,null)),Z=W.exports;o["default"].use(a.a),o["default"].config.productionTip=!1,new o["default"]({render:function(e){return e(Z)}}).$mount("#app")},"6ed1":function(e,n,t){},7041:function(e,n,t){e.exports=t.p+"img/pImg11.97fc4ecb.png"},7421:function(e,n,t){e.exports=t.p+"img/left.1737d886.jpg"},"890f":function(e,n,t){e.exports=t.p+"img/top.a743e1d3.jpg"},"928e":function(e,n,t){e.exports=t.p+"img/pImg20.c08acd85.png"},9341:function(e,n,t){e.exports=t.p+"img/front.84bf9212.jpg"},b2b9:function(e,n,t){"use strict";t("d864")},c5ed:function(e,n,t){e.exports=t.p+"img/right.511e0ad2.jpg"},d864:function(e,n,t){},e8fc:function(e,n,t){e.exports=t.p+"img/pImg14.efa804c1.png"},f32c:function(e,n,t){e.exports=t.p+"img/pImg2.b7c843f2.png"},fd2d:function(e,n,t){e.exports=t.p+"img/pImg4.bbb30936.png"}});
//# sourceMappingURL=app.693f8840.js.map